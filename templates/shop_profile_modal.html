<!-- Shop Profile Sidebar (Included in Base) -->
<div id="shopProfileSidebar" class="sidebar-overlay" onclick="toggleModal('shopProfileSidebar')">
    <div class="sidebar-panel" onclick="event.stopPropagation()">
        <div
            style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 2rem; border-bottom: 1px solid var(--border-color); padding-bottom: 1rem;">
            <div>
                <h3 style="font-size: 1.5rem; font-weight: 600; color: var(--text-primary);">{{ shop.shop_name }}</h3>
                <p style="color: var(--text-secondary);">Shop Profile</p>
            </div>
            <button onclick="toggleModal('shopProfileSidebar')"
                style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--text-secondary);">&times;</button>
        </div>

        <div style="margin-bottom: 2rem;">
            <label
                style="display: block; color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 0.25rem;">Address</label>
            <div style="font-size: 1.1rem; color: var(--text-primary); font-weight: 500;">
                {{ shop.address or 'No address set' }}
            </div>
        </div>

        <div style="margin-bottom: 2rem;">
            <label
                style="display: block; color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 0.25rem;">Contact</label>
            <div style="font-size: 1.1rem; color: var(--text-primary); font-weight: 500;">
                {{ shop.mobile or 'No contact set' }}
            </div>
        </div>

        {% if shop.gst_no %}
        <div style="margin-bottom: 2rem;">
            <label style="display: block; color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 0.25rem;">GST
                No.</label>
            <div style="font-size: 1.1rem; color: var(--text-primary); font-weight: 500;">
                {{ shop.gst_no }}
            </div>
        </div>
        {% endif %}

        <div
            style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border-color); display: flex; align-items: center; justify-content: space-between; gap: 1rem;">
            <!-- Left: Logo -->
            <div style="flex-shrink: 0;">
                {% if shop.logo %}
                <img src="{{ url_for('static', filename=shop.logo) }}" alt="Shop Logo"
                    style="max-height: 60px; max-width: 80px; object-fit: contain;">
                {% else %}
                <div
                    style="width: 60px; height: 60px; background: #f3f4f6; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: var(--text-secondary);">
                    <i class="fa-solid fa-store"></i>
                </div>
                {% endif %}
            </div>

            <!-- Right: Buttons -->
            <div style="flex-grow: 1;">
                {% if current_user.role == 'master' %}
                <a href="{{ url_for('settings') }}" class="btn btn-outline"
                    style="width: 100%; justify-content: center; margin-bottom: 0.5rem; font-size: 0.85rem;">
                    <i class="fa-solid fa-pen-to-square" style="margin-right: 6px;"></i> Edit
                </a>
                {% endif %}

                <a href="{{ url_for('bills') }}" class="btn btn-primary"
                    style="width: 100%; justify-content: center; font-size: 0.85rem;">
                    <i class="fa-solid fa-file-invoice" style="margin-right: 6px;"></i> Bills
                </a>
            </div>
        </div>
    </div>
</div>